<div class="container py-5">
    <h1 class="text-center">Leaderboard</h1>

    <div class="table-responsive-sm pt-3 col-sm-12 col-md-10 col-lg-8 mx-auto">
        <table class="table table-sm table-dark table-hover table-striped table-bordered text-center text-nowrap mb-0">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th class="hover" (click)="sortScore('score', 'descending')">Score</th>
                    <th class="hover" (click)="sortScore('level', 'descending')">Level</th>
                    <th class="hover" (click)="sortScore('time_survived', 'descending')">Time survived</th>
                    <th class="hover" (click)="sortScore('username', 'ascending')">User</th>
                    <th class="hover" (click)="sortScore('score_date', 'descending')">Date</th>
                </tr>
            </thead>
            <tbody>
                @for (score of sortedScores; track $index;) {
                <tr>
                    <td>{{$index + 1}}</td>
                    <td>{{score.score}}</td>
                    <td>{{score.level}}</td>
                    <td>{{score.time_survived | slice:-5}}</td>
                    <td>{{score.username}}</td>
                    <td>{{score.score_date | date:"dd.MM.YY, HH:mm" }}</td>
                </tr>
                }
            </tbody>
        </table>

    </div>
    @if (sortedScores.length < allScores.length){ 
        <div class="container d-flex justify-content-center mt-4">
            <button class="btn btn-dark" (click)="showMore()">Show more</button>
        </div>
    }
</div>